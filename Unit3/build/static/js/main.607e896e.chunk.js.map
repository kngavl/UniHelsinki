{"version":3,"sources":["components/Numbers.js","components/Filter.js","components/PersonForm.js","components/ErrorNotification.js","components/SuccessNotification.js","services/persons.js","components/App.js","index.js"],"names":["Numbers","persons","filter","deleteIndividual","filteredPersons","person","name","includes","map","newNameCapitalized","split","s","charAt","toUpperCase","substring","join","key","number","type","onClick","value","Filter","onChange","PersonForm","props","newName","handleNameChange","newNumber","handlePhoneChange","handleSubmit","ErrorNotification","message","className","SuccessNotification","baseURL","newObject","axios","post","then","response","data","get","id","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","successMessage","setSuccessMessage","useEffect","personService","initialPersons","e","target","toLowerCase","preventDefault","newNameLowerCase","individual","filteredList","length","setTimeout","catch","error","window","confirm","_id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.607e896e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Numbers = ({persons, filter, deleteIndividual}) => {\r\n    let filteredPersons = persons.filter((person) => person.name.includes(filter))\r\n    return (\r\n        <div>\r\n            {filteredPersons.map((person) => {\r\n                let newNameCapitalized = person.name.split(\" \").map((s) => s.charAt(0).toUpperCase() + s.substring(1)).join(\" \");\r\n                return (\r\n                    <div key={newNameCapitalized}>\r\n                        <p>{newNameCapitalized} {person.number} <button type=\"submit\" onClick={deleteIndividual} value={person.name}>delete</button></p>\r\n                    </div>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from \"react\"\r\n\r\nconst Filter = ({onChange}) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n                filter names with: <input onChange={onChange}/>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form>\r\n            <div>\r\n            name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handlePhoneChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" onClick={props.handleSubmit}>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from \"react\"\r\n\r\nconst ErrorNotification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorNotification","import React from \"react\"\r\n\r\nconst SuccessNotification = ({message}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"success\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuccessNotification","import axios from \"axios\"\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteID = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst updateID = (id, newObject) => {\r\n    const request = axios.put(`${baseURL}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {create, getAll, deleteID, updateID}","import React, { useState, useEffect } from 'react'\r\nimport Numbers from \"./Numbers\"\r\nimport Filter from \"./Filter\"\r\nimport PersonForm from \"./PersonForm\"\r\nimport ErrorNotification from \"./ErrorNotification\"\r\nimport SuccessNotification from \"./SuccessNotification\"\r\nimport personService from \"../services/persons\"\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName ] = useState('')\r\n    const [newNumber, setNewNumber] = useState(\"\")\r\n    const [filter, setFilter] = useState(\"\");\r\n    const [errorMessage, setErrorMessage] = useState(null)\r\n    const [successMessage, setSuccessMessage] = useState(null)\r\n\r\n    useEffect(() => {\r\n        personService.getAll()\r\n        .then(initialPersons => {\r\n            setPersons(initialPersons)\r\n        })\r\n    }, [])\r\n\r\n    const handleNameChange = (e) => {\r\n        setNewName(e.target.value);\r\n    }\r\n\r\n    const handlePhoneChange = (e) => {\r\n        setNewNumber(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e)=> {\r\n        e.preventDefault()\r\n        let newNameLowerCase = newName.toLowerCase();\r\n        let individual = {name: newNameLowerCase, number: newNumber}\r\n        let filteredList = persons.filter(person => person.name === newNameLowerCase)\r\n\r\n        if (filteredList.length === 0) {\r\n            personService.create(individual)\r\n            .then(response => {\r\n                setPersons([...persons, response]);\r\n                setNewName(\"\")\r\n                setNewNumber(\"\")\r\n                setSuccessMessage(`${response.name} has been added!`)\r\n                setTimeout(() => {setSuccessMessage(null)}, 3000)\r\n            })\r\n            .catch(error => {\r\n                setErrorMessage(\"Person validation error: maybe the name or number are too short\")\r\n                setTimeout(() => {setErrorMessage(null)}, 3000)\r\n            })\r\n        } else {\r\n            if (window.confirm(`${newNameLowerCase} is already included in the phonebook, replace the old number with a new one?`)) {\r\n                personService.updateID(filteredList[0]._id, individual)\r\n                .then(response => {\r\n                    setPersons(persons.map(person => person._id !== response._id ? person : response))\r\n                    setSuccessMessage(`${individual.name}'s phone number has been updated!`)\r\n                    setTimeout(() => {setSuccessMessage(null)}, 3000)\r\n                }).catch(error => {\r\n                    setErrorMessage(`${individual.name} has already been removed from the server`)\r\n                    setTimeout(() => {setErrorMessage(null)}, 3000)\r\n                    personService.getAll()\r\n                    .then(initialPersons => {\r\n                    setPersons(initialPersons)\r\n                })\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    const filterNames = (e)=> {\r\n        setFilter(e.target.value.toLowerCase());\r\n    }\r\n\r\n    const deleteIndividual = (e) => {\r\n        e.preventDefault()\r\n        const individual = persons.filter(person => person.name === e.target.value)\r\n        if (window.confirm(`Delete ${individual[0].name}?`)) {\r\n            personService.deleteID(individual[0]._id).then(() => {\r\n                setPersons(persons.filter(person => person._id !== individual[0].id))\r\n                setErrorMessage(`${individual[0].name} has been removed from the list!`)\r\n                setTimeout(() => {setErrorMessage(null)}, 3000)\r\n                personService.getAll()\r\n                    .then(initialPersons => {\r\n                    setPersons(initialPersons)\r\n                })\r\n            })\r\n            .catch(error => {\r\n                setErrorMessage(`${individual[0].name} has already been removed from the server`)\r\n                setTimeout(() => {setErrorMessage(null)}, 3000)\r\n            })\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <SuccessNotification message={successMessage}/>\r\n            <ErrorNotification message={errorMessage}/>\r\n            <h2>Phonebook</h2>\r\n            <Filter onChange={filterNames}/>\r\n            <h2>Add a new Number</h2>\r\n            <PersonForm \r\n                newName={newName}\r\n                handleNameChange={handleNameChange}\r\n                newNumber={newNumber}\r\n                handlePhoneChange={handlePhoneChange}\r\n                handleSubmit={handleSubmit}\r\n            />\r\n            <h2>Numbers</h2>\r\n            <Numbers \r\n                persons={persons} \r\n                filter={filter} \r\n                deleteIndividual={deleteIndividual}/>\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport \"./index.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}